"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{8603:function(e,n,t){t.r(n),t.d(n,{d:function(){return u}});var r=t(5465),a=t(7933),i=t(6771),u=(0,r.e)({searchTerm:"",results:null,savedDealerCookie:function(){try{return JSON.parse(a.w.getCookie(i.S))}catch(e){return null}}(),ppnDealers:{},dealersOfRegion:{regions:[]}});u.onChange("savedDealerCookie",function(e){a.w.setCookie(i.S,JSON.stringify(e))})},318:function(e,n,t){t.r(n),t.d(n,{a:function(){return f},b:function(){return v},c:function(){return S},d:function(){return E},e:function(){return c},f:function(){return d},g:function(){return s}});var r=t(5465),a=t(6486),i=t(8603),u=t(6771),o=t(7933),l=t(7875);function c(e,n,t,l,c,E){var s,d,f,v=e.dealer,S=e.models,C=e.myPorsche,p=e.vehiclePurchase,R=e.shop,I=e.experience,h=e.services,L=n.savedDealerCookie,g=n.ppnDealers,_=r.n.state.app,H=null!==L?g[L.id]:void 0;"en-SG"===t&&v.search.outboundLink&&(f=null===(s=v.search.outboundLink)||void 0===s?void 0:s.link);var O=[a.a.DEALER_SEARCH];void 0!==H&&(null===(d=i.d.state.results)||void 0===d?void 0:d.length)!=1&&O.push((0,a.e)(H.ppnDealer.id));var A=[{elementId:a.a.MODELS,routingKeys:[a.a.MODELS],analyticsId:S.id,text:S.text},{elementId:a.a.VEHICLE_PURCHASE,routingKeys:[a.a.VEHICLE_PURCHASE],analyticsId:p.id,text:p.text},{elementId:a.a.SERVICES,routingKeys:[a.a.SERVICES],analyticsId:h.id,text:h.text},{elementId:a.a.EXPERIENCE,routingKeys:[a.a.EXPERIENCE],analyticsId:I.id,text:I.text}],P={elementId:a.a.DEALER_SEARCH,routingKeys:O,analyticsId:v.id,text:v.text,link:f,iconRight:"en-SG"===t&&v.search.outboundLink?"none":"arrow-head-right"};if(null!==R&&""!==R.text){var m={elementId:a.a.SHOP,routingKeys:[a.a.SHOP],analyticsId:R.id,text:R.text,link:_!==u.A.shop?R.link:void 0,datalayerEventAction:r.E.NAVIGATION_LINK_CLICK,iconRight:"none"};A.splice(2,0,m)}if(function(e,n){try{var t=(0,r.s)(e).country,a=!(0,r.i)(t)&&n;return(o.f.isDealerSearchChinaEnabled()||"CN"!==t)&&a}catch(e){}return!0}(t,E)){var y="en"===(0,r.s)(t).language?null==H?void 0:H.ppnDealer.name:(0,u.i)(null==H?void 0:H.ppnDealer.nameLocalized)?null==H?void 0:H.ppnDealer.nameLocalized:null==H?void 0:H.ppnDealer.name;(0,u.i)(y)&&(P.subtext=y)}else P.link=v.search.map.link,P.onClick=void 0;if(A.push(P),null!==C){var D=(0,u.I)(l),x=D?(0,u.z)(l,C.loggedInFallback):void 0;A.push({elementId:a.a.MY_PORSCHE,routingKeys:[a.a.MY_PORSCHE],analyticsId:C.id,text:C.text,subtext:x,showIconModifier:D&&c>0})}return A}function E(e,n,t,i,u,o,l){var E=(0,a.f)(o);switch(E){case o:break;case a.a.MODELS:return e.models.series.map(function(e){return{elementId:(0,a.h)(e.id),routingKeys:[(0,a.h)(e.id)],analyticsId:e.id,text:e.name,subtext:e.tags.map(function(e){return e.text}).join(" | "),renderSignatures:!0,datalayerEventAction:r.E.MODEL_RANGE_CLICK}});case a.a.SHOP:case a.a.VEHICLE_PURCHASE:case a.a.SERVICES:case a.a.EXPERIENCE:var s=(0,a.r)(o),f=d(e,s,E);if(null!==f)return f.children.map(function(e){return{elementId:(0,a.c)(s,e.id),routingKeys:[(0,a.c)(s,e.id)],analyticsId:e.id,text:e.text,link:e.link}})}return c(e,n,t,i,u,l)}function s(e){switch((0,a.f)(e)){case e:break;case a.a.DEALER_SEARCH:return a.a.DEALER_SEARCH;case a.a.MODELS:return a.a.MODELS;case a.a.SHOP:case a.a.VEHICLE_PURCHASE:case a.a.SERVICES:case a.a.EXPERIENCE:var n=(0,a.r)(e);return(0,a.g)(n)}return a.a.MAIN_MENU}function d(e,n,t){var i,o=e.vehiclePurchase,c=e.experience,E=e.shop,s=e.legacyMore,d=e.services,f=((i={})[a.a.VEHICLE_PURCHASE]=o,i[a.a.EXPERIENCE]=c,i[a.a.SHOP]=E,i[a.a.MORE]=s,i[a.a.SERVICES]=d,i)[t];if(null==f)return null;(0,u.i)(f.experienceName)&&(f.children=(0,l.a)().executeContentChange(f));var v=(0,a.g)(n);return v===t?f:(0,r.k)(f,v)}function f(e,n){if(!(0,u.i)(n))return"";var t=(0,a.f)(n);switch(t){case a.a.MODELS:return e.models.text;case a.a.DEALER_SEARCH:if(1===e.dealer.numberOfDealers)break;return e.dealer.details.backToSearch;case a.a.SHOP:case a.a.VEHICLE_PURCHASE:case a.a.MORE:case a.a.EXPERIENCE:var i=d(r.b.state,n,t);if(null!==i)return i.text}return""}function v(e,n,t){var i,u,o,l=e.dealer,c=e.myPorsche,E=e.models,s=e.vehiclePurchase,d=e.experience,f=e.shop,v=e.legacyMore,S=e.services;switch(t){case a.a.MORE:case a.a.SHOP:case a.a.EXPERIENCE:case a.a.SERVICES:case a.a.VEHICLE_PURCHASE:if(void 0===(o=((i={})[a.a.VEHICLE_PURCHASE]=s,i[a.a.EXPERIENCE]=d,i[a.a.SHOP]=f,i[a.a.MORE]=v,i[a.a.SERVICES]=S,i)[t]))break;var C=(0,a.g)(n);return C===t?null==o?void 0:o.text:null===(u=(0,r.k)(o,C))||void 0===u?void 0:u.text;case a.a.SERIES:case a.a.MODELS:var p=(0,a.g)(n);return void 0===(o=E.series.find(function(e){return p===e.id}))?E.text:null==o?void 0:o.id;case a.a.DEALER_SEARCH:return l.search.text;case a.a.MY_PORSCHE:return null==c?void 0:c.text}return""}function S(e,n,t){var o=r.b.state,l=o.myPorsche,c=o.models,E=r.n.state.loggedInState;if(e===a.a.MY_PORSCHE)return(0,u.I)(E)?(0,u.z)(E,(null==l?void 0:l.loggedInFallback)||""):"";if(e===a.a.DEALER_SEARCH){var s=i.d.state,d=s.savedDealerCookie,f=s.ppnDealers,v=null!==d?f[d.id]:void 0,S=t&&"en"===(0,r.s)(t).language?null==v?void 0:v.ppnDealer.name:(0,u.i)(null==v?void 0:v.ppnDealer.nameLocalized)?null==v?void 0:v.ppnDealer.nameLocalized:null==v?void 0:v.ppnDealer.name;return d?S:""}if(e===a.a.MODELS&&(0,u.i)(n)){var C=(0,a.g)(n),p=c.series.find(function(e){return C===e.id});if(p)return p.tags.map(function(e){return e.text}).join(" | ")}return""}},6486:function(e,n,t){t.r(n),t.d(n,{R:function(){return a},a:function(){return o},b:function(){return p},c:function(){return l},d:function(){return C},e:function(){return s},f:function(){return c},g:function(){return v},h:function(){return E},i:function(){return f},j:function(){return d},r:function(){return S}});var r,a,i=t(6771),u=function(e,n,t){if(t||2==arguments.length)for(var r,a=0,i=n.length;a<i;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},o={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce(function(e,n){return u(u([],e,!0),(0,i.g)(n).split("/"),!0)},[]).filter(Boolean).join("/")}function c(e){if((0,i.i)(e))return Object.values(o).find(function(n){return e.startsWith(n)})}function E(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,u([o.MODELS],e,!1))}function s(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,u([o.DEALER_SEARCH],e,!1))}function d(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,u([o.MY_PORSCHE],e,!1))}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,u([o.VEHICLE_PURCHASE],e,!1))}function v(e){return e.split("/").slice(-1)[0]}function S(e){return e.split("/").slice(0,-1).join("/")}function C(e){switch(c(e)){case o.MAIN_MENU:return 1;case e:return 2;default:return e.split("/").length+1}}function p(e){var n=S(e);return(0,i.i)(n)?n:o.MAIN_MENU}(r=a||(a={}))[r.LEVEL_ZERO=-1]="LEVEL_ZERO",r[r.LEVEL_ONE=0]="LEVEL_ONE",r[r.LEVEL_TWO=1]="LEVEL_TWO"}}]);